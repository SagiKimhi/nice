<!DOCTYPE html>

<html class="NDPage NDContentPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>singleton_proxy</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.3 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');">

<script type="text/javascript">var q = window.location.search;if (q.startsWith("?Theme=")){var t = q.slice(7);var e = t.indexOf(";");if (e != -1){  t = t.slice(0, e);  }document.documentElement.classList.add(t + "Theme")}</script>

<a name="Topic162"></a><div class="CTopic TClass LSystemVerilog first">
 <div class="CTitle"><span class="Qualifier">patterns::</span>&#8203;singleton_proxy</div>
 <div class="NDClassPrototype" id="NDClassPrototype162"><div class="CPEntry TClass Current"><div class="CPName"><span class="Qualifier">patterns::&#8203; .</span>&#8203;singleton_proxy&#8203;<span class="TemplateSignature">#(<span class="SHKeyword">type</span> T=uvm_object)</span></div></div></div>
 <div class="CBody"><p>A proxy to easily make singleton classes, that can also be instantiated as a normal class.</p><p>The instance is created only once on the first call to &lt;singleton_proxy::get()&gt; and is then set to the local static ~m_inst~ variable to retreieve the same instance on subsequent calls.</p><p>Usage is super simple, see the following example.</p><pre class="CText">// To use the singleton proxy, simply add a typedef to your class as shown<br />// below:<br />class myclass extends some_uvm_class;<br />    typedef singleton_proxy#(myclass) singleton;<br />    ...<br />endclass: myclass<br /><br />// Then to use it from a different class all you need to do is:<br />class some_other_class extends uvm_object;<br />    virtual function void foo();<br />        // Get the singleton instance<br />        myclass singleton_inst = myclass::singleton::get();<br />        ...<br />    endfunction: foo<br /><br />    // Alternatively use both singleton and normal instance<br />    // if you need to keep track of a global state and a seperate<br />    // local state for example.<br />    virtual function void bar();<br />        // Create a normal instance.<br />        myclass normal_inst = myclass::type_id::get();<br />        // Get the global singleton instance.<br />        myclass singleton_inst = myclass::singleton::get();<br />        ...<br />    endfunction: bar<br />endclass: some_other_class</pre></div>
</div>

</body></html>